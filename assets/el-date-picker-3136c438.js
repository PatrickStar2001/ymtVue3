import{d as j}from"./dayjs.min-dcbe53ea.js";import{aV as je,aW as Ge,aX as Lt,aY as Vt,aZ as Se,q as Ce,r as ie,a_ as fa,ay as pa,d as Ve,y as Ne,z as Te,aE as va,at as He,B as Z,H as xe,I as Ie,aO as Ot,G as E,a$ as ma,b0 as ha,b1 as ba,aG as ya,M as e,b2 as ga,as as wt,o as T,K as De,w as se,j as qe,L as y,N as xt,O as Ee,Q as he,W as ft,P as ve,c as L,a as B,a1 as ut,ab as fe,ac as Bt,aR as ka,a4 as Be,a6 as ye,b3 as it,p as wa,J as Da,F as ge,Z as _e,h as Ue,b4 as Sa,$ as Ye,b as F,aL as Ca,aJ as Ma,aF as Pa,a2 as _a,b5 as $a,ap as st,b6 as Wt,a9 as zt,b7 as Kt,b8 as Ta,b9 as ot,ba as Dt,a0 as nt,bb as ct,S as St,T as mt,bc as dt,e as bt,bd as Ut,aD as Va}from"./index-cc83c9fb.js";const Oa=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Je=i=>!i&&i!==0?[]:Array.isArray(i)?i:[i];var Ht={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,v=/\d\d?/,k=/\d*[^-_:/,()\s\d]+/,g={},M=function(l){return(l=+l)+(l>68?1900:2e3)},S=function(l){return function(m){this[l]=+m}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(l){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var x=m.match(/([+-]|\d\d)/g),P=60*x[1]+(+x[2]||0);return P===0?0:x[0]==="+"?-P:P}(l)}],C=function(l){var m=g[l];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(l,m){var x,P=g.meridiem;if(P){for(var d=1;d<=24;d+=1)if(l.indexOf(P(d,0,m))>-1){x=d>12;break}}else x=l===(m?"pm":"PM");return x},o={A:[k,function(l){this.afternoon=h(l,!1)}],a:[k,function(l){this.afternoon=h(l,!0)}],S:[/\d/,function(l){this.milliseconds=100*+l}],SS:[f,function(l){this.milliseconds=10*+l}],SSS:[/\d{3}/,function(l){this.milliseconds=+l}],s:[v,S("seconds")],ss:[v,S("seconds")],m:[v,S("minutes")],mm:[v,S("minutes")],H:[v,S("hours")],h:[v,S("hours")],HH:[v,S("hours")],hh:[v,S("hours")],D:[v,S("day")],DD:[f,S("day")],Do:[k,function(l){var m=g.ordinal,x=l.match(/\d+/);if(this.day=x[0],m)for(var P=1;P<=31;P+=1)m(P).replace(/\[|\]/g,"")===l&&(this.day=P)}],M:[v,S("month")],MM:[f,S("month")],MMM:[k,function(l){var m=C("months"),x=(C("monthsShort")||m.map(function(P){return P.slice(0,3)})).indexOf(l)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[k,function(l){var m=C("months").indexOf(l)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,S("year")],YY:[f,function(l){this.year=M(l)}],YYYY:[/\d{4}/,S("year")],Z:A,ZZ:A};function w(l){var m,x;m=l,x=g&&g.formats;for(var P=(l=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,H,ee){var oe=ee&&ee.toUpperCase();return H||x[ee]||a[ee]||x[oe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(K,te,ce){return te||ce.slice(1)})})).match(t),d=P.length,$=0;$<d;$+=1){var N=P[$],z=o[N],G=z&&z[0],I=z&&z[1];P[$]=I?{regex:G,parser:I}:N.replace(/^\[|\]$/g,"")}return function(q){for(var H={},ee=0,oe=0;ee<d;ee+=1){var K=P[ee];if(typeof K=="string")oe+=K.length;else{var te=K.regex,ce=K.parser,pe=q.slice(oe),U=te.exec(pe)[0];ce.call(H,U),q=q.replace(U,"")}}return function(Y){var u=Y.afternoon;if(u!==void 0){var D=Y.hours;u?D<12&&(Y.hours+=12):D===12&&(Y.hours=0),delete Y.afternoon}}(H),H}}return function(l,m,x){x.p.customParseFormat=!0,l&&l.parseTwoDigitYear&&(M=l.parseTwoDigitYear);var P=m.prototype,d=P.parse;P.parse=function($){var N=$.date,z=$.utc,G=$.args;this.$u=z;var I=G[1];if(typeof I=="string"){var q=G[2]===!0,H=G[3]===!0,ee=q||H,oe=G[2];H&&(oe=G[2]),g=this.$locale(),!q&&oe&&(g=x.Ls[oe]),this.$d=function(pe,U,Y){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*pe);var u=w(U)(pe),D=u.year,R=u.month,s=u.day,_=u.hours,W=u.minutes,J=u.seconds,X=u.milliseconds,de=u.zone,ne=new Date,re=s||(D||R?1:ne.getDate()),le=D||ne.getFullYear(),Pe=0;D&&!R||(Pe=R>0?R-1:ne.getMonth());var be=_||0,Me=W||0,we=J||0,Fe=X||0;return de?new Date(Date.UTC(le,Pe,re,be,Me,we,Fe+60*de.offset*1e3)):Y?new Date(Date.UTC(le,Pe,re,be,Me,we,Fe)):new Date(le,Pe,re,be,Me,we,Fe)}catch{return new Date("")}}(N,I,z),this.init(),oe&&oe!==!0&&(this.$L=this.locale(oe).$L),ee&&N!=this.format(I)&&(this.$d=new Date("")),g={}}else if(I instanceof Array)for(var K=I.length,te=1;te<=K;te+=1){G[1]=I[te-1];var ce=x.apply(this,G);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}te===K&&(this.$d=new Date(""))}else d.call(this,$)}}})})(Ht);var xa=Ht.exports;const Ia=Ge(xa),It=["hours","minutes","seconds"],Yt="HH:mm:ss",lt="YYYY-MM-DD",Ya={date:lt,dates:lt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${lt} ${Yt}`,monthrange:"YYYY-MM",daterange:lt,datetimerange:`${lt} ${Yt}`},yt=(i,c)=>[i>0?i-1:void 0,i,i<c?i+1:void 0],jt=i=>Array.from(Array.from({length:i}).keys()),Gt=i=>i.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Zt=i=>i.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Rt=function(i,c){const a=Vt(i),t=Vt(c);return a&&t?i.getTime()===c.getTime():!a&&!t?i===c:!1},At=function(i,c){const a=Se(i),t=Se(c);return a&&t?i.length!==c.length?!1:i.every((f,v)=>Rt(f,c[v])):!a&&!t?Rt(i,c):!1},Et=function(i,c,a){const t=Lt(c)||c==="x"?j(i).locale(a):j(i,c).locale(a);return t.isValid()?t:void 0},Nt=function(i,c,a){return Lt(c)?i:c==="x"?+i:j(i).locale(a).format(c)},gt=(i,c)=>{var a;const t=[],f=c==null?void 0:c();for(let v=0;v<i;v++)t.push((a=f==null?void 0:f.includes(v))!=null?a:!1);return t},qt=Ce({disabledHours:{type:ie(Function)},disabledMinutes:{type:ie(Function)},disabledSeconds:{type:ie(Function)}}),Ra=Ce({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Jt=Ce({id:{type:ie([Array,String])},name:{type:ie([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ie([String,Object]),default:fa},editable:{type:Boolean,default:!0},prefixIcon:{type:ie([String,Object]),default:""},size:pa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ie(Object),default:()=>({})},modelValue:{type:ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ie([Date,Array])},defaultTime:{type:ie([Date,Array])},isRange:{type:Boolean,default:!1},...qt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Aa=["id","name","placeholder","value","disabled","readonly"],Ea=["id","name","placeholder","value","disabled","readonly"],Na=Ve({name:"Picker"}),Fa=Ve({...Na,props:Jt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(i,{expose:c,emit:a}){const t=i,{lang:f}=Ne(),v=Te("date"),k=Te("input"),g=Te("range"),{form:M,formItem:S}=va(),A=He("ElPopperOptions",{}),C=Z(),h=Z(),o=Z(!1),w=Z(!1),l=Z(null);let m=!1,x=!1;xe(o,n=>{n?Ie(()=>{n&&(l.value=t.modelValue)}):(ae.value=null,Ie(()=>{P(t.modelValue)}))});const P=(n,r)=>{(r||!At(n,l.value))&&(a("change",n),t.validateEvent&&(S==null||S.validate("change").catch(b=>Ot())))},d=n=>{if(!At(t.modelValue,n)){let r;Se(n)?r=n.map(b=>Nt(b,t.valueFormat,f.value)):n&&(r=Nt(n,t.valueFormat,f.value)),a("update:modelValue",n&&r,f.value)}},$=n=>{a("keydown",n)},N=E(()=>{if(h.value){const n=Me.value?h.value:h.value.$el;return Array.from(n.querySelectorAll("input"))}return[]}),z=(n,r,b)=>{const V=N.value;V.length&&(!b||b==="min"?(V[0].setSelectionRange(n,r),V[0].focus()):b==="max"&&(V[1].setSelectionRange(n,r),V[1].focus()))},G=()=>{ce(!0,!0),Ie(()=>{x=!1})},I=(n="",r=!1)=>{r||(x=!0),o.value=r;let b;Se(n)?b=n.map(V=>V.toDate()):b=n&&n.toDate(),ae.value=null,d(b)},q=()=>{w.value=!0},H=()=>{a("visible-change",!0)},ee=n=>{(n==null?void 0:n.key)===ye.esc&&ce(!0,!0)},oe=()=>{w.value=!1,o.value=!1,x=!1,a("visible-change",!1)},K=()=>{o.value=!0},te=()=>{o.value=!1},ce=(n=!0,r=!1)=>{x=r;const[b,V]=e(N);let ke=b;!n&&Me.value&&(ke=V),ke&&ke.focus()},pe=n=>{t.readonly||u.value||o.value||x||(o.value=!0,a("focus",n))};let U;const Y=n=>{const r=async()=>{setTimeout(()=>{var b;U===r&&(!((b=C.value)!=null&&b.isFocusInsideContent()&&!m)&&N.value.filter(V=>V.contains(document.activeElement)).length===0&&(We(),o.value=!1,a("blur",n),t.validateEvent&&(S==null||S.validate("blur").catch(V=>Ot()))),m=!1)},0)};U=r,r()},u=E(()=>t.disabled||(M==null?void 0:M.disabled)),D=E(()=>{let n;if(ne.value?me.value.getDefaultValue&&(n=me.value.getDefaultValue()):Se(t.modelValue)?n=t.modelValue.map(r=>Et(r,t.valueFormat,f.value)):n=Et(t.modelValue,t.valueFormat,f.value),me.value.getRangeAvailableTime){const r=me.value.getRangeAvailableTime(n);ma(r,n)||(n=r,d(Se(n)?n.map(b=>b.toDate()):n.toDate()))}return Se(n)&&n.some(r=>!r)&&(n=[]),n}),R=E(()=>{if(!me.value.panelReady)return"";const n=Oe(D.value);return Se(ae.value)?[ae.value[0]||n&&n[0]||"",ae.value[1]||n&&n[1]||""]:ae.value!==null?ae.value:!_.value&&ne.value||!o.value&&ne.value?"":n?W.value?n.join(", "):n:""}),s=E(()=>t.type.includes("time")),_=E(()=>t.type.startsWith("time")),W=E(()=>t.type==="dates"),J=E(()=>t.prefixIcon||(s.value?ha:ba)),X=Z(!1),de=n=>{t.readonly||u.value||X.value&&(n.stopPropagation(),G(),d(null),P(null,!0),X.value=!1,o.value=!1,me.value.handleClear&&me.value.handleClear())},ne=E(()=>{const{modelValue:n}=t;return!n||Se(n)&&!n.filter(Boolean).length}),re=async n=>{var r;t.readonly||u.value||(((r=n.target)==null?void 0:r.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(o.value=!0)},le=()=>{t.readonly||u.value||!ne.value&&t.clearable&&(X.value=!0)},Pe=()=>{X.value=!1},be=n=>{var r;t.readonly||u.value||(((r=n.touches[0].target)==null?void 0:r.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(o.value=!0)},Me=E(()=>t.type.includes("range")),we=ya(),Fe=E(()=>{var n,r;return(r=(n=e(C))==null?void 0:n.popperRef)==null?void 0:r.contentRef}),Re=E(()=>{var n;return e(Me)?e(h):(n=e(h))==null?void 0:n.$el});ga(Re,n=>{const r=e(Fe),b=e(Re);r&&(n.target===r||n.composedPath().includes(r))||n.target===b||n.composedPath().includes(b)||(o.value=!1)});const ae=Z(null),We=()=>{if(ae.value){const n=$e(R.value);n&&ze(n)&&(d(Se(n)?n.map(r=>r.toDate()):n.toDate()),ae.value=null)}ae.value===""&&(d(null),P(null),ae.value=null)},$e=n=>n?me.value.parseUserInput(n):null,Oe=n=>n?me.value.formatToString(n):null,ze=n=>me.value.isValidValue(n),Xe=async n=>{if(t.readonly||u.value)return;const{code:r}=n;if($(n),r===ye.esc){o.value===!0&&(o.value=!1,n.preventDefault(),n.stopPropagation());return}if(r===ye.down&&(me.value.handleFocusPicker&&(n.preventDefault(),n.stopPropagation()),o.value===!1&&(o.value=!0,await Ie()),me.value.handleFocusPicker)){me.value.handleFocusPicker();return}if(r===ye.tab){m=!0;return}if(r===ye.enter||r===ye.numpadEnter){(ae.value===null||ae.value===""||ze($e(R.value)))&&(We(),o.value=!1),n.stopPropagation();return}if(ae.value){n.stopPropagation();return}me.value.handleKeydownInput&&me.value.handleKeydownInput(n)},Qe=n=>{ae.value=n,o.value||(o.value=!0)},Ke=n=>{const r=n.target;ae.value?ae.value=[r.value,ae.value[1]]:ae.value=[r.value,null]},Le=n=>{const r=n.target;ae.value?ae.value=[ae.value[0],r.value]:ae.value=[null,r.value]},et=()=>{var n;const r=ae.value,b=$e(r&&r[0]),V=e(D);if(b&&b.isValid()){ae.value=[Oe(b),((n=R.value)==null?void 0:n[1])||null];const ke=[b,V&&(V[1]||null)];ze(ke)&&(d(ke),ae.value=null)}},tt=()=>{var n;const r=e(ae),b=$e(r&&r[1]),V=e(D);if(b&&b.isValid()){ae.value=[((n=e(R))==null?void 0:n[0])||null,Oe(b)];const ke=[V&&V[0],b];ze(ke)&&(d(ke),ae.value=null)}},me=Z({}),p=n=>{me.value[n[0]]=n[1],me.value.panelReady=!0},O=n=>{a("calendar-change",n)},Q=(n,r,b)=>{a("panel-change",n,r,b)};return wt("EP_PICKER_BASE",{props:t}),c({focus:ce,handleFocusInput:pe,handleBlurInput:Y,handleOpen:K,handleClose:te,onPick:I}),(n,r)=>(T(),De(e(ka),Bt({ref_key:"refPopper",ref:C,visible:o.value,effect:"light",pure:"",trigger:"click"},n.$attrs,{role:"dialog",teleported:"",transition:`${e(v).namespace.value}-zoom-in-top`,"popper-class":[`${e(v).namespace.value}-picker__popper`,n.popperClass],"popper-options":e(A),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:q,onShow:H,onHide:oe}),{default:se(()=>[e(Me)?(T(),L("div",{key:1,ref_key:"inputRef",ref:h,class:y([e(v).b("editor"),e(v).bm("editor",n.type),e(k).e("wrapper"),e(v).is("disabled",e(u)),e(v).is("active",o.value),e(g).b("editor"),e(we)?e(g).bm("editor",e(we)):"",n.$attrs.class]),style:xt(n.$attrs.style),onClick:pe,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onKeydown:Xe},[e(J)?(T(),De(e(he),{key:0,class:y([e(k).e("icon"),e(g).e("icon")]),onMousedown:Ee(re,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(ft(e(J))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),B("input",{id:n.id&&n.id[0],autocomplete:"off",name:n.name&&n.name[0],placeholder:n.startPlaceholder,value:e(R)&&e(R)[0],disabled:e(u),readonly:!n.editable||n.readonly,class:y(e(g).b("input")),onMousedown:re,onInput:Ke,onChange:et,onFocus:pe,onBlur:Y},null,42,Aa),ut(n.$slots,"range-separator",{},()=>[B("span",{class:y(e(g).b("separator"))},fe(n.rangeSeparator),3)]),B("input",{id:n.id&&n.id[1],autocomplete:"off",name:n.name&&n.name[1],placeholder:n.endPlaceholder,value:e(R)&&e(R)[1],disabled:e(u),readonly:!n.editable||n.readonly,class:y(e(g).b("input")),onMousedown:re,onFocus:pe,onBlur:Y,onInput:Le,onChange:tt},null,42,Ea),n.clearIcon?(T(),De(e(he),{key:1,class:y([e(k).e("icon"),e(g).e("close-icon"),{[e(g).e("close-icon--hidden")]:!X.value}]),onClick:de},{default:se(()=>[(T(),De(ft(n.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(T(),De(e(qe),{key:0,id:n.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":e(R),name:n.name,size:e(we),disabled:e(u),placeholder:n.placeholder,class:y([e(v).b("editor"),e(v).bm("editor",n.type),n.$attrs.class]),style:xt(n.$attrs.style),readonly:!n.editable||n.readonly||e(W)||n.type==="week",label:n.label,tabindex:n.tabindex,"validate-event":!1,onInput:Qe,onFocus:pe,onBlur:Y,onKeydown:Xe,onChange:We,onMousedown:re,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onClick:r[0]||(r[0]=Ee(()=>{},["stop"]))},{prefix:se(()=>[e(J)?(T(),De(e(he),{key:0,class:y(e(k).e("icon")),onMousedown:Ee(re,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(ft(e(J))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:se(()=>[X.value&&n.clearIcon?(T(),De(e(he),{key:0,class:y(`${e(k).e("icon")} clear-icon`),onClick:Ee(de,["stop"])},{default:se(()=>[(T(),De(ft(n.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:se(()=>[ut(n.$slots,"default",{visible:o.value,actualVisible:w.value,parsedValue:e(D),format:n.format,unlinkPanels:n.unlinkPanels,type:n.type,defaultValue:n.defaultValue,onPick:I,onSelectRange:z,onSetPickerOption:p,onCalendarChange:O,onPanelChange:Q,onKeydown:ee,onMousedown:r[1]||(r[1]=Ee(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var La=Be(Fa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ba=Ce({...Ra,datetimeRole:String,parsedValue:{type:ie(Object)}}),Wa=({getAvailableHours:i,getAvailableMinutes:c,getAvailableSeconds:a})=>{const t=(k,g,M,S)=>{const A={hour:i,minute:c,second:a};let C=k;return["hour","minute","second"].forEach(h=>{if(A[h]){let o;const w=A[h];switch(h){case"minute":{o=w(C.hour(),g,S);break}case"second":{o=w(C.hour(),C.minute(),g,S);break}default:{o=w(g,S);break}}if(o!=null&&o.length&&!o.includes(C[h]())){const l=M?0:o.length-1;C=C[h](o[l])}}}),C},f={};return{timePickerOptions:f,getAvailableTime:t,onSetOption:([k,g])=>{f[k]=g}}},kt=i=>{const c=(t,f)=>t||f,a=t=>t!==!0;return i.map(c).filter(a)},Xt=(i,c,a)=>({getHoursList:(k,g)=>gt(24,i&&(()=>i==null?void 0:i(k,g))),getMinutesList:(k,g,M)=>gt(60,c&&(()=>c==null?void 0:c(k,g,M))),getSecondsList:(k,g,M,S)=>gt(60,a&&(()=>a==null?void 0:a(k,g,M,S)))}),za=(i,c,a)=>{const{getHoursList:t,getMinutesList:f,getSecondsList:v}=Xt(i,c,a);return{getAvailableHours:(S,A)=>kt(t(S,A)),getAvailableMinutes:(S,A,C)=>kt(f(S,A,C)),getAvailableSeconds:(S,A,C,h)=>kt(v(S,A,C,h))}},Ka=i=>{const c=Z(i.parsedValue);return xe(()=>i.visible,a=>{a||(c.value=i.parsedValue)}),c},Ua=100,Ha=600,Ft={beforeMount(i,c){const a=c.value,{interval:t=Ua,delay:f=Ha}=it(a)?{}:a;let v,k;const g=()=>it(a)?a():a.handler(),M=()=>{k&&(clearTimeout(k),k=void 0),v&&(clearInterval(v),v=void 0)};i.addEventListener("mousedown",S=>{S.button===0&&(M(),g(),document.addEventListener("mouseup",()=>M(),{once:!0}),k=setTimeout(()=>{v=setInterval(()=>{g()},t)},f))})}},ja=Ce({role:{type:String,required:!0},spinnerDate:{type:ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ie(String),default:""},...qt}),Ga=["onClick"],Za=["onMouseenter"],qa=Ve({__name:"basic-time-spinner",props:ja,emits:["change","select-range","set-option"],setup(i,{emit:c}){const a=i,t=Te("time"),{getHoursList:f,getMinutesList:v,getSecondsList:k}=Xt(a.disabledHours,a.disabledMinutes,a.disabledSeconds);let g=!1;const M=Z(),S=Z(),A=Z(),C=Z(),h={hours:S,minutes:A,seconds:C},o=E(()=>a.showSeconds?It:It.slice(0,2)),w=E(()=>{const{spinnerDate:u}=a,D=u.hour(),R=u.minute(),s=u.second();return{hours:D,minutes:R,seconds:s}}),l=E(()=>{const{hours:u,minutes:D}=e(w);return{hours:f(a.role),minutes:v(u,a.role),seconds:k(u,D,a.role)}}),m=E(()=>{const{hours:u,minutes:D,seconds:R}=e(w);return{hours:yt(u,23),minutes:yt(D,59),seconds:yt(R,59)}}),x=wa(u=>{g=!1,$(u)},200),P=u=>{if(!!!a.amPmMode)return"";const R=a.amPmMode==="A";let s=u<12?" am":" pm";return R&&(s=s.toUpperCase()),s},d=u=>{let D;switch(u){case"hours":D=[0,2];break;case"minutes":D=[3,5];break;case"seconds":D=[6,8];break}const[R,s]=D;c("select-range",R,s),M.value=u},$=u=>{G(u,e(w)[u])},N=()=>{$("hours"),$("minutes"),$("seconds")},z=u=>u.querySelector(`.${t.namespace.value}-scrollbar__wrap`),G=(u,D)=>{if(a.arrowControl)return;const R=e(h[u]);R&&R.$el&&(z(R.$el).scrollTop=Math.max(0,D*I(u)))},I=u=>{const D=e(h[u]);return(D==null?void 0:D.$el.querySelector("li").offsetHeight)||0},q=()=>{ee(1)},H=()=>{ee(-1)},ee=u=>{M.value||d("hours");const D=M.value,R=e(w)[D],s=M.value==="hours"?24:60,_=oe(D,R,u,s);K(D,_),G(D,_),Ie(()=>d(D))},oe=(u,D,R,s)=>{let _=(D+R+s)%s;const W=e(l)[u];for(;W[_]&&_!==D;)_=(_+R+s)%s;return _},K=(u,D)=>{if(e(l)[u][D])return;const{hours:_,minutes:W,seconds:J}=e(w);let X;switch(u){case"hours":X=a.spinnerDate.hour(D).minute(W).second(J);break;case"minutes":X=a.spinnerDate.hour(_).minute(D).second(J);break;case"seconds":X=a.spinnerDate.hour(_).minute(W).second(D);break}c("change",X)},te=(u,{value:D,disabled:R})=>{R||(K(u,D),d(u),G(u,D))},ce=u=>{g=!0,x(u);const D=Math.min(Math.round((z(e(h[u]).$el).scrollTop-(pe(u)*.5-10)/I(u)+3)/I(u)),u==="hours"?23:59);K(u,D)},pe=u=>e(h[u]).$el.offsetHeight,U=()=>{const u=D=>{const R=e(h[D]);R&&R.$el&&(z(R.$el).onscroll=()=>{ce(D)})};u("hours"),u("minutes"),u("seconds")};Da(()=>{Ie(()=>{!a.arrowControl&&U(),N(),a.role==="start"&&d("hours")})});const Y=(u,D)=>{h[D].value=u};return c("set-option",[`${a.role}_scrollDown`,ee]),c("set-option",[`${a.role}_emitSelectRange`,d]),xe(()=>a.spinnerDate,()=>{g||N()}),(u,D)=>(T(),L("div",{class:y([e(t).b("spinner"),{"has-seconds":u.showSeconds}])},[u.arrowControl?ve("v-if",!0):(T(!0),L(ge,{key:0},_e(e(o),R=>(T(),De(e(Sa),{key:R,ref_for:!0,ref:s=>Y(s,R),class:y(e(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:s=>d(R),onMousemove:s=>$(R)},{default:se(()=>[(T(!0),L(ge,null,_e(e(l)[R],(s,_)=>(T(),L("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",_===e(w)[R]),e(t).is("disabled",s)]),onClick:W=>te(R,{value:_,disabled:s})},[R==="hours"?(T(),L(ge,{key:0},[Ue(fe(("0"+(u.amPmMode?_%12||12:_)).slice(-2))+fe(P(_)),1)],64)):(T(),L(ge,{key:1},[Ue(fe(("0"+_).slice(-2)),1)],64))],10,Ga))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),u.arrowControl?(T(!0),L(ge,{key:1},_e(e(o),R=>(T(),L("div",{key:R,class:y([e(t).be("spinner","wrapper"),e(t).is("arrow")]),onMouseenter:s=>d(R)},[Ye((T(),De(e(he),{class:y(["arrow-up",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(Ca))]),_:1},8,["class"])),[[e(Ft),H]]),Ye((T(),De(e(he),{class:y(["arrow-down",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(Ma))]),_:1},8,["class"])),[[e(Ft),q]]),B("ul",{class:y(e(t).be("spinner","list"))},[(T(!0),L(ge,null,_e(e(m)[R],(s,_)=>(T(),L("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",s===e(w)[R]),e(t).is("disabled",e(l)[R][s])])},[typeof s=="number"?(T(),L(ge,{key:0},[R==="hours"?(T(),L(ge,{key:0},[Ue(fe(("0"+(u.amPmMode?s%12||12:s)).slice(-2))+fe(P(s)),1)],64)):(T(),L(ge,{key:1},[Ue(fe(("0"+s).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,Za))),128)):ve("v-if",!0)],2))}});var Ja=Be(qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Xa=Ve({__name:"panel-time-pick",props:Ba,emits:["pick","select-range","set-picker-option"],setup(i,{emit:c}){const a=i,t=He("EP_PICKER_BASE"),{arrowControl:f,disabledHours:v,disabledMinutes:k,disabledSeconds:g,defaultValue:M}=t.props,{getAvailableHours:S,getAvailableMinutes:A,getAvailableSeconds:C}=za(v,k,g),h=Te("time"),{t:o,lang:w}=Ne(),l=Z([0,2]),m=Ka(a),x=E(()=>Pa(a.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),P=E(()=>a.format.includes("ss")),d=E(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),$=Y=>{const u=j(Y).locale(w.value),D=te(u);return u.isSame(D)},N=()=>{c("pick",m.value,!1)},z=(Y=!1,u=!1)=>{u||c("pick",a.parsedValue,Y)},G=Y=>{if(!a.visible)return;const u=te(Y).millisecond(0);c("pick",u,!0)},I=(Y,u)=>{c("select-range",Y,u),l.value=[Y,u]},q=Y=>{const u=[0,3].concat(P.value?[6]:[]),D=["hours","minutes"].concat(P.value?["seconds"]:[]),s=(u.indexOf(l.value[0])+Y+u.length)%u.length;ee.start_emitSelectRange(D[s])},H=Y=>{const u=Y.code,{left:D,right:R,up:s,down:_}=ye;if([D,R].includes(u)){q(u===D?-1:1),Y.preventDefault();return}if([s,_].includes(u)){const W=u===s?-1:1;ee.start_scrollDown(W),Y.preventDefault();return}},{timePickerOptions:ee,onSetOption:oe,getAvailableTime:K}=Wa({getAvailableHours:S,getAvailableMinutes:A,getAvailableSeconds:C}),te=Y=>K(Y,a.datetimeRole||"",!0),ce=Y=>Y?j(Y,a.format).locale(w.value):null,pe=Y=>Y?Y.format(a.format):null,U=()=>j(M).locale(w.value);return c("set-picker-option",["isValidValue",$]),c("set-picker-option",["formatToString",pe]),c("set-picker-option",["parseUserInput",ce]),c("set-picker-option",["handleKeydownInput",H]),c("set-picker-option",["getRangeAvailableTime",te]),c("set-picker-option",["getDefaultValue",U]),(Y,u)=>(T(),De(_a,{name:e(x)},{default:se(()=>[Y.actualVisible||Y.visible?(T(),L("div",{key:0,class:y(e(h).b("panel"))},[B("div",{class:y([e(h).be("panel","content"),{"has-seconds":e(P)}])},[F(Ja,{ref:"spinner",role:Y.datetimeRole||"start","arrow-control":e(f),"show-seconds":e(P),"am-pm-mode":e(d),"spinner-date":Y.parsedValue,"disabled-hours":e(v),"disabled-minutes":e(k),"disabled-seconds":e(g),onChange:G,onSetOption:e(oe),onSelectRange:I},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),B("div",{class:y(e(h).be("panel","footer"))},[B("button",{type:"button",class:y([e(h).be("panel","btn"),"cancel"]),onClick:N},fe(e(o)("el.datepicker.cancel")),3),B("button",{type:"button",class:y([e(h).be("panel","btn"),"confirm"]),onClick:u[0]||(u[0]=D=>z())},fe(e(o)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Ct=Be(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Qt={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t,f){var v=t.prototype,k=function(C){return C&&(C.indexOf?C:C.s)},g=function(C,h,o,w,l){var m=C.name?C:C.$locale(),x=k(m[h]),P=k(m[o]),d=x||P.map(function(N){return N.slice(0,w)});if(!l)return d;var $=m.weekStart;return d.map(function(N,z){return d[(z+($||0))%7]})},M=function(){return f.Ls[f.locale()]},S=function(C,h){return C.formats[h]||function(o){return o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,l,m){return l||m.slice(1)})}(C.formats[h.toUpperCase()])},A=function(){var C=this;return{months:function(h){return h?h.format("MMMM"):g(C,"months")},monthsShort:function(h){return h?h.format("MMM"):g(C,"monthsShort","months",3)},firstDayOfWeek:function(){return C.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):g(C,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):g(C,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):g(C,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return S(C.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};v.localeData=function(){return A.bind(this)()},f.localeData=function(){var C=M();return{firstDayOfWeek:function(){return C.weekStart||0},weekdays:function(){return f.weekdays()},weekdaysShort:function(){return f.weekdaysShort()},weekdaysMin:function(){return f.weekdaysMin()},months:function(){return f.months()},monthsShort:function(){return f.monthsShort()},longDateFormat:function(h){return S(C,h)},meridiem:C.meridiem,ordinal:C.ordinal}},f.months=function(){return g(M(),"months")},f.monthsShort=function(){return g(M(),"monthsShort","months",3)},f.weekdays=function(C){return g(M(),"weekdays",null,null,C)},f.weekdaysShort=function(C){return g(M(),"weekdaysShort","weekdays",3,C)},f.weekdaysMin=function(C){return g(M(),"weekdaysMin","weekdays",2,C)}}})})(Qt);var Qa=Qt.exports;const en=Ge(Qa);var ea={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t){var f=t.prototype,v=f.format;f.format=function(k){var g=this,M=this.$locale();if(!this.isValid())return v.bind(this)(k);var S=this.$utils(),A=(k||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(C){switch(C){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return M.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return M.ordinal(g.week(),"W");case"w":case"ww":return S.s(g.week(),C==="w"?1:2,"0");case"W":case"WW":return S.s(g.isoWeek(),C==="W"?1:2,"0");case"k":case"kk":return S.s(String(g.$H===0?24:g.$H),C==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return C}});return v.bind(this)(A)}}})})(ea);var tn=ea.exports;const an=Ge(tn);var ta={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){var a="week",t="year";return function(f,v,k){var g=v.prototype;g.week=function(M){if(M===void 0&&(M=null),M!==null)return this.add(7*(M-this.week()),"day");var S=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=k(this).startOf(t).add(1,t).date(S),C=k(this).endOf(a);if(A.isBefore(C))return 1}var h=k(this).startOf(t).date(S).startOf(a).subtract(1,"millisecond"),o=this.diff(h,a,!0);return o<0?k(this).startOf("week").week():Math.ceil(o)},g.weeks=function(M){return M===void 0&&(M=null),this.week(M)}}})})(ta);var nn=ta.exports;const ln=Ge(nn);var aa={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t){t.prototype.weekYear=function(){var f=this.month(),v=this.week(),k=this.year();return v===1&&f===11?k+1:f===0&&v>=52?k-1:k}}})})(aa);var sn=aa.exports;const on=Ge(sn);var na={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t,f){t.prototype.dayOfYear=function(v){var k=Math.round((f(this).startOf("day")-f(this).startOf("year"))/864e5)+1;return v==null?k:this.add(v-k,"day")}}})})(na);var rn=na.exports;const un=Ge(rn);var la={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t){t.prototype.isSameOrAfter=function(f,v){return this.isSame(f,v)||this.isAfter(f,v)}}})})(la);var cn=la.exports;const dn=Ge(cn);var sa={exports:{}};(function(i,c){(function(a,t){i.exports=t()})(je,function(){return function(a,t){t.prototype.isSameOrBefore=function(f,v){return this.isSame(f,v)||this.isBefore(f,v)}}})})(sa);var fn=sa.exports;const pn=Ge(fn),$t=Symbol(),vn=Ce({...Jt,type:{type:ie(String),default:"date"}}),mn=["date","dates","year","month","week","range"],Tt=Ce({disabledDate:{type:ie(Function)},date:{type:ie(Object),required:!0},minDate:{type:ie(Object)},maxDate:{type:ie(Object)},parsedValue:{type:ie([Object,Array])},rangeState:{type:ie(Object),default:()=>({endDate:null,selecting:!1})}}),oa=Ce({type:{type:ie(String),required:!0,values:Oa}}),ra=Ce({unlinkPanels:Boolean,parsedValue:{type:ie(Array)}}),ua=i=>({type:String,values:mn,default:i}),hn=Ce({...oa,parsedValue:{type:ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),bn=Ce({...Tt,cellClassName:{type:ie(Function)},showWeekNumber:Boolean,selectionMode:ua("date")}),Mt=i=>{if(!Se(i))return!1;const[c,a]=i;return j.isDayjs(c)&&j.isDayjs(a)&&c.isSameOrBefore(a)},ia=(i,{lang:c,unit:a,unlinkPanels:t})=>{let f;if(Se(i)){let[v,k]=i.map(g=>j(g).locale(c));return t||(k=v.add(1,a)),[v,k]}else i?f=j(i):f=j();return f=f.locale(c),[f,f.add(1,a)]},yn=(i,c,{columnIndexOffset:a,startDate:t,nextEndDate:f,now:v,unit:k,relativeDateGetter:g,setCellMetadata:M,setRowMetadata:S})=>{for(let A=0;A<i.row;A++){const C=c[A];for(let h=0;h<i.column;h++){let o=C[h+a];o||(o={row:A,column:h,type:"normal",inRange:!1,start:!1,end:!1});const w=A*i.column+h,l=g(w);o.dayjs=l,o.date=l.toDate(),o.timestamp=l.valueOf(),o.type="normal",o.inRange=!!(t&&l.isSameOrAfter(t,k)&&f&&l.isSameOrBefore(f,k))||!!(t&&l.isSameOrBefore(t,k)&&f&&l.isSameOrAfter(f,k)),t!=null&&t.isSameOrAfter(f)?(o.start=!!f&&l.isSame(f,k),o.end=t&&l.isSame(t,k)):(o.start=!!t&&l.isSame(t,k),o.end=!!f&&l.isSame(f,k)),l.isSame(v,k)&&(o.type="today"),M==null||M(o,{rowIndex:A,columnIndex:h}),C[h+a]=o}S==null||S(C)}},gn=Ce({cell:{type:ie(Object)}});var kn=Ve({name:"ElDatePickerCell",props:gn,setup(i){const c=Te("date-table-cell"),{slots:a}=He($t);return()=>{const{cell:t}=i;if(a.default){const f=a.default(t).filter(v=>v.patchFlag!==-2&&v.type.toString()!=="Symbol(Comment)");if(f.length)return f}return F("div",{class:c.b()},[F("span",{class:c.e("text")},[t==null?void 0:t.text])])}}});const wn=["aria-label","onMousedown"],Dn={key:0,scope:"col"},Sn=["aria-label"],Cn=["aria-current","aria-selected","tabindex"],Mn=Ve({__name:"basic-date-table",props:bn,emits:["changerange","pick","select"],setup(i,{expose:c,emit:a}){const t=i,f=Te("date-table"),{t:v,lang:k}=Ne(),g=Z(),M=Z(),S=Z(),A=Z(),C=Z([[],[],[],[],[],[]]);let h=!1;const o=t.date.$locale().weekStart||7,w=t.date.locale("en").localeData().weekdaysShort().map(s=>s.toLowerCase()),l=E(()=>o>3?7-o:-o),m=E(()=>{const s=t.date.startOf("month");return s.subtract(s.day()||7,"day")}),x=E(()=>w.concat(w).slice(o,o+7)),P=E(()=>$a(I.value).some(s=>s.isCurrent)),d=E(()=>{const s=t.date.startOf("month"),_=s.day()||7,W=s.daysInMonth(),J=s.subtract(1,"month").daysInMonth();return{startOfMonthDay:_,dateCountOfMonth:W,dateCountOfLastMonth:J}}),$=E(()=>t.selectionMode==="dates"?Je(t.parsedValue):[]),N=(s,{count:_,rowIndex:W,columnIndex:J})=>{const{startOfMonthDay:X,dateCountOfMonth:de,dateCountOfLastMonth:ne}=e(d),re=e(l);if(W>=0&&W<=1){const le=X+re<0?7+X+re:X+re;if(J+W*7>=le)return s.text=_,!0;s.text=ne-(le-J%7)+1+W*7,s.type="prev-month"}else return _<=de?s.text=_:(s.text=_-de,s.type="next-month"),!0;return!1},z=(s,{columnIndex:_,rowIndex:W},J)=>{const{disabledDate:X,cellClassName:de}=t,ne=e($),re=N(s,{count:J,rowIndex:W,columnIndex:_}),le=s.dayjs.toDate();return s.selected=ne.find(Pe=>Pe.valueOf()===s.dayjs.valueOf()),s.isSelected=!!s.selected,s.isCurrent=ee(s),s.disabled=X==null?void 0:X(le),s.customClass=de==null?void 0:de(le),re},G=s=>{if(t.selectionMode==="week"){const[_,W]=t.showWeekNumber?[1,7]:[0,6],J=R(s[_+1]);s[_].inRange=J,s[_].start=J,s[W].inRange=J,s[W].end=J}},I=E(()=>{const{minDate:s,maxDate:_,rangeState:W,showWeekNumber:J}=t,X=l.value,de=C.value,ne="day";let re=1;if(J)for(let le=0;le<6;le++)de[le][0]||(de[le][0]={type:"week",text:m.value.add(le*7+1,ne).week()});return yn({row:6,column:7},de,{startDate:s,columnIndexOffset:J?1:0,nextEndDate:W.endDate||_||W.selecting&&s||null,now:j().locale(e(k)).startOf(ne),unit:ne,relativeDateGetter:le=>m.value.add(le-X,ne),setCellMetadata:(...le)=>{z(...le,re)&&(re+=1)},setRowMetadata:G}),de});xe(()=>t.date,async()=>{var s,_;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ie(),(_=M.value)==null||_.focus())});const q=async()=>{var s;(s=M.value)==null||s.focus()},H=(s="")=>["normal","today"].includes(s),ee=s=>t.selectionMode==="date"&&H(s.type)&&oe(s,t.parsedValue),oe=(s,_)=>_?j(_).locale(k.value).isSame(t.date.date(Number(s.text)),"day"):!1,K=s=>{const _=[];return H(s.type)&&!s.disabled?(_.push("available"),s.type==="today"&&_.push("today")):_.push(s.type),ee(s)&&_.push("current"),s.inRange&&(H(s.type)||t.selectionMode==="week")&&(_.push("in-range"),s.start&&_.push("start-date"),s.end&&_.push("end-date")),s.disabled&&_.push("disabled"),s.selected&&_.push("selected"),s.customClass&&_.push(s.customClass),_.join(" ")},te=(s,_)=>{const W=s*7+(_-(t.showWeekNumber?1:0))-l.value;return m.value.add(W,"day")},ce=s=>{var _;if(!t.rangeState.selecting)return;let W=s.target;if(W.tagName==="SPAN"&&(W=(_=W.parentNode)==null?void 0:_.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const J=W.parentNode.rowIndex-1,X=W.cellIndex;I.value[J][X].disabled||(J!==S.value||X!==A.value)&&(S.value=J,A.value=X,a("changerange",{selecting:!0,endDate:te(J,X)}))},pe=s=>!P.value&&(s==null?void 0:s.text)===1&&s.type==="normal"||s.isCurrent,U=s=>{h||P.value||t.selectionMode!=="date"||D(s,!0)},Y=s=>{s.target.closest("td")&&(h=!0)},u=s=>{s.target.closest("td")&&(h=!1)},D=(s,_=!1)=>{const W=s.target.closest("td");if(!W)return;const J=W.parentNode.rowIndex-1,X=W.cellIndex,de=I.value[J][X];if(de.disabled||de.type==="week")return;const ne=te(J,X);if(t.selectionMode==="range")!t.rangeState.selecting||!t.minDate?(a("pick",{minDate:ne,maxDate:null}),a("select",!0)):(ne>=t.minDate?a("pick",{minDate:t.minDate,maxDate:ne}):a("pick",{minDate:ne,maxDate:t.minDate}),a("select",!1));else if(t.selectionMode==="date")a("pick",ne,_);else if(t.selectionMode==="week"){const re=ne.week(),le=`${ne.year()}w${re}`;a("pick",{year:ne.year(),week:re,value:le,date:ne.startOf("week")})}else if(t.selectionMode==="dates"){const re=de.selected?Je(t.parsedValue).filter(le=>(le==null?void 0:le.valueOf())!==ne.valueOf()):Je(t.parsedValue).concat([ne]);a("pick",re)}},R=s=>{if(t.selectionMode!=="week")return!1;let _=t.date.startOf("day");if(s.type==="prev-month"&&(_=_.subtract(1,"month")),s.type==="next-month"&&(_=_.add(1,"month")),_=_.date(Number.parseInt(s.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const W=(t.parsedValue.day()-o+7)%7-1;return t.parsedValue.subtract(W,"day").isSame(_,"day")}return!1};return c({focus:q}),(s,_)=>(T(),L("table",{role:"grid","aria-label":e(v)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:y([e(f).b(),{"is-week-mode":s.selectionMode==="week"}]),onClick:D,onMousemove:ce,onMousedown:Ee(Y,["prevent"]),onMouseup:u},[B("tbody",{ref_key:"tbodyRef",ref:g},[B("tr",null,[s.showWeekNumber?(T(),L("th",Dn,fe(e(v)("el.datepicker.week")),1)):ve("v-if",!0),(T(!0),L(ge,null,_e(e(x),(W,J)=>(T(),L("th",{key:J,scope:"col","aria-label":e(v)("el.datepicker.weeksFull."+W)},fe(e(v)("el.datepicker.weeks."+W)),9,Sn))),128))]),(T(!0),L(ge,null,_e(e(I),(W,J)=>(T(),L("tr",{key:J,class:y([e(f).e("row"),{current:R(W[1])}])},[(T(!0),L(ge,null,_e(W,(X,de)=>(T(),L("td",{key:`${J}.${de}`,ref_for:!0,ref:ne=>pe(X)&&(M.value=ne),class:y(K(X)),"aria-current":X.isCurrent?"date":void 0,"aria-selected":X.isCurrent,tabindex:pe(X)?0:-1,onFocus:U},[F(e(kn),{cell:X},null,8,["cell"])],42,Cn))),128))],2))),128))],512)],42,wn))}});var Pt=Be(Mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Pn=Ce({...Tt,selectionMode:ua("month")}),_n=["aria-label"],$n=["aria-selected","aria-label","tabindex","onKeydown"],Tn={class:"cell"},Vn=Ve({__name:"basic-month-table",props:Pn,emits:["changerange","pick","select"],setup(i,{expose:c,emit:a}){const t=i,f=($,N,z)=>{const G=j().locale(z).startOf("month").month(N).year($),I=G.daysInMonth();return jt(I).map(q=>G.add(q,"day").toDate())},v=Te("month-table"),{t:k,lang:g}=Ne(),M=Z(),S=Z(),A=Z(t.date.locale("en").localeData().monthsShort().map($=>$.toLowerCase())),C=Z([[],[],[]]),h=Z(),o=Z(),w=E(()=>{var $,N;const z=C.value,G=j().locale(g.value).startOf("month");for(let I=0;I<3;I++){const q=z[I];for(let H=0;H<4;H++){const ee=q[H]||(q[H]={row:I,column:H,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ee.type="normal";const oe=I*4+H,K=t.date.startOf("year").month(oe),te=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;ee.inRange=!!(t.minDate&&K.isSameOrAfter(t.minDate,"month")&&te&&K.isSameOrBefore(te,"month"))||!!(t.minDate&&K.isSameOrBefore(t.minDate,"month")&&te&&K.isSameOrAfter(te,"month")),($=t.minDate)!=null&&$.isSameOrAfter(te)?(ee.start=!!(te&&K.isSame(te,"month")),ee.end=t.minDate&&K.isSame(t.minDate,"month")):(ee.start=!!(t.minDate&&K.isSame(t.minDate,"month")),ee.end=!!(te&&K.isSame(te,"month"))),G.isSame(K)&&(ee.type="today"),ee.text=oe,ee.disabled=((N=t.disabledDate)==null?void 0:N.call(t,K.toDate()))||!1}}return z}),l=()=>{var $;($=S.value)==null||$.focus()},m=$=>{const N={},z=t.date.year(),G=new Date,I=$.text;return N.disabled=t.disabledDate?f(z,I,g.value).every(t.disabledDate):!1,N.current=Je(t.parsedValue).findIndex(q=>j.isDayjs(q)&&q.year()===z&&q.month()===I)>=0,N.today=G.getFullYear()===z&&G.getMonth()===I,$.inRange&&(N["in-range"]=!0,$.start&&(N["start-date"]=!0),$.end&&(N["end-date"]=!0)),N},x=$=>{const N=t.date.year(),z=$.text;return Je(t.date).findIndex(G=>G.year()===N&&G.month()===z)>=0},P=$=>{var N;if(!t.rangeState.selecting)return;let z=$.target;if(z.tagName==="A"&&(z=(N=z.parentNode)==null?void 0:N.parentNode),z.tagName==="DIV"&&(z=z.parentNode),z.tagName!=="TD")return;const G=z.parentNode.rowIndex,I=z.cellIndex;w.value[G][I].disabled||(G!==h.value||I!==o.value)&&(h.value=G,o.value=I,a("changerange",{selecting:!0,endDate:t.date.startOf("year").month(G*4+I)}))},d=$=>{var N;const z=(N=$.target)==null?void 0:N.closest("td");if((z==null?void 0:z.tagName)!=="TD"||Wt(z,"disabled"))return;const G=z.cellIndex,q=z.parentNode.rowIndex*4+G,H=t.date.startOf("year").month(q);t.selectionMode==="range"?t.rangeState.selecting?(t.minDate&&H>=t.minDate?a("pick",{minDate:t.minDate,maxDate:H}):a("pick",{minDate:H,maxDate:t.minDate}),a("select",!1)):(a("pick",{minDate:H,maxDate:null}),a("select",!0)):a("pick",q)};return xe(()=>t.date,async()=>{var $,N;($=M.value)!=null&&$.contains(document.activeElement)&&(await Ie(),(N=S.value)==null||N.focus())}),c({focus:l}),($,N)=>(T(),L("table",{role:"grid","aria-label":e(k)("el.datepicker.monthTablePrompt"),class:y(e(v).b()),onClick:d,onMousemove:P},[B("tbody",{ref_key:"tbodyRef",ref:M},[(T(!0),L(ge,null,_e(e(w),(z,G)=>(T(),L("tr",{key:G},[(T(!0),L(ge,null,_e(z,(I,q)=>(T(),L("td",{key:q,ref_for:!0,ref:H=>x(I)&&(S.value=H),class:y(m(I)),"aria-selected":`${x(I)}`,"aria-label":e(k)(`el.datepicker.month${+I.text+1}`),tabindex:x(I)?0:-1,onKeydown:[st(Ee(d,["prevent","stop"]),["space"]),st(Ee(d,["prevent","stop"]),["enter"])]},[B("div",null,[B("span",Tn,fe(e(k)("el.datepicker.months."+A.value[I.text])),1)])],42,$n))),128))]))),128))],512)],42,_n))}});var _t=Be(Vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:On,disabledDate:xn,parsedValue:In}=Tt,Yn=Ce({date:On,disabledDate:xn,parsedValue:In}),Rn=["aria-label"],An=["aria-selected","tabindex","onKeydown"],En={class:"cell"},Nn={key:1},Fn=Ve({__name:"basic-year-table",props:Yn,emits:["pick"],setup(i,{expose:c,emit:a}){const t=i,f=(l,m)=>{const x=j(String(l)).locale(m).startOf("year"),d=x.endOf("year").dayOfYear();return jt(d).map($=>x.add($,"day").toDate())},v=Te("year-table"),{t:k,lang:g}=Ne(),M=Z(),S=Z(),A=E(()=>Math.floor(t.date.year()/10)*10),C=()=>{var l;(l=S.value)==null||l.focus()},h=l=>{const m={},x=j().locale(g.value);return m.disabled=t.disabledDate?f(l,g.value).every(t.disabledDate):!1,m.current=Je(t.parsedValue).findIndex(P=>P.year()===l)>=0,m.today=x.year()===l,m},o=l=>l===A.value&&t.date.year()<A.value&&t.date.year()>A.value+9||Je(t.date).findIndex(m=>m.year()===l)>=0,w=l=>{const x=l.target.closest("td");if(x&&x.textContent){if(Wt(x,"disabled"))return;const P=x.textContent||x.innerText;a("pick",Number(P))}};return xe(()=>t.date,async()=>{var l,m;(l=M.value)!=null&&l.contains(document.activeElement)&&(await Ie(),(m=S.value)==null||m.focus())}),c({focus:C}),(l,m)=>(T(),L("table",{role:"grid","aria-label":e(k)("el.datepicker.yearTablePrompt"),class:y(e(v).b()),onClick:w},[B("tbody",{ref_key:"tbodyRef",ref:M},[(T(),L(ge,null,_e(3,(x,P)=>B("tr",{key:P},[(T(),L(ge,null,_e(4,(d,$)=>(T(),L(ge,{key:P+"_"+$},[P*4+$<10?(T(),L("td",{key:0,ref_for:!0,ref:N=>o(e(A)+P*4+$)&&(S.value=N),class:y(["available",h(e(A)+P*4+$)]),"aria-selected":`${o(e(A)+P*4+$)}`,tabindex:o(e(A)+P*4+$)?0:-1,onKeydown:[st(Ee(w,["prevent","stop"]),["space"]),st(Ee(w,["prevent","stop"]),["enter"])]},[B("span",En,fe(e(A)+P*4+$),1)],42,An)):(T(),L("td",Nn))],64))),64))])),64))],512)],10,Rn))}});var Ln=Be(Fn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Bn=["onClick"],Wn=["aria-label"],zn=["aria-label"],Kn=["aria-label"],Un=["aria-label"],Hn=Ve({__name:"panel-date-pick",props:hn,emits:["pick","set-picker-option","panel-change"],setup(i,{emit:c}){const a=i,t=(p,O,Q)=>!0,f=Te("picker-panel"),v=Te("date-picker"),k=zt(),g=Kt(),{t:M,lang:S}=Ne(),A=He("EP_PICKER_BASE"),C=He(Ta),{shortcuts:h,disabledDate:o,cellClassName:w,defaultTime:l,arrowControl:m}=A.props,x=ot(A.props,"defaultValue"),P=Z(),d=Z(j().locale(S.value)),$=Z(!1),N=E(()=>j(l).locale(S.value)),z=E(()=>d.value.month()),G=E(()=>d.value.year()),I=Z([]),q=Z(null),H=Z(null),ee=p=>I.value.length>0?t(p,I.value,a.format||"HH:mm:ss"):!0,oe=p=>l&&!be.value&&!$.value?N.value.year(p.year()).month(p.month()).date(p.date()):X.value?p.millisecond(0):p.startOf("day"),K=(p,...O)=>{if(!p)c("pick",p,...O);else if(Se(p)){const Q=p.map(oe);c("pick",Q,...O)}else c("pick",oe(p),...O);q.value=null,H.value=null,$.value=!1},te=(p,O)=>{if(D.value==="date"){p=p;let Q=a.parsedValue?a.parsedValue.year(p.year()).month(p.month()).date(p.date()):p;ee(Q)||(Q=I.value[0][0].year(p.year()).month(p.month()).date(p.date())),d.value=Q,K(Q,X.value||O)}else D.value==="week"?K(p.date):D.value==="dates"&&K(p,!0)},ce=p=>{const O=p?"add":"subtract";d.value=d.value[O](1,"month"),me("month")},pe=p=>{const O=d.value,Q=p?"add":"subtract";d.value=U.value==="year"?O[Q](10,"year"):O[Q](1,"year"),me("year")},U=Z("date"),Y=E(()=>{const p=M("el.datepicker.year");if(U.value==="year"){const O=Math.floor(G.value/10)*10;return p?`${O} ${p} - ${O+9} ${p}`:`${O} - ${O+9}`}return`${G.value} ${p}`}),u=p=>{const O=it(p.value)?p.value():p.value;if(O){K(j(O).locale(S.value));return}p.onClick&&p.onClick({attrs:k,slots:g,emit:c})},D=E(()=>{const{type:p}=a;return["week","month","year","dates"].includes(p)?p:"date"}),R=E(()=>D.value==="date"?U.value:D.value),s=E(()=>!!h.length),_=async p=>{d.value=d.value.startOf("month").month(p),D.value==="month"?K(d.value,!1):(U.value="date",["month","year","date","week"].includes(D.value)&&(K(d.value,!0),await Ie(),Le())),me("month")},W=async p=>{D.value==="year"?(d.value=d.value.startOf("year").year(p),K(d.value,!1)):(d.value=d.value.year(p),U.value="month",["month","year","date","week"].includes(D.value)&&(K(d.value,!0),await Ie(),Le())),me("year")},J=async p=>{U.value=p,await Ie(),Le()},X=E(()=>a.type==="datetime"||a.type==="datetimerange"),de=E(()=>X.value||D.value==="dates"),ne=()=>{if(D.value==="dates")K(a.parsedValue);else{let p=a.parsedValue;if(!p){const O=j(l).locale(S.value),Q=Ke();p=O.year(Q.year()).month(Q.month()).date(Q.date())}d.value=p,K(p)}},re=()=>{const O=j().locale(S.value).toDate();$.value=!0,(!o||!o(O))&&ee(O)&&(d.value=j().locale(S.value),K(d.value))},le=E(()=>Zt(a.format)),Pe=E(()=>Gt(a.format)),be=E(()=>{if(H.value)return H.value;if(!(!a.parsedValue&&!x.value))return(a.parsedValue||d.value).format(le.value)}),Me=E(()=>{if(q.value)return q.value;if(!(!a.parsedValue&&!x.value))return(a.parsedValue||d.value).format(Pe.value)}),we=Z(!1),Fe=()=>{we.value=!0},Re=()=>{we.value=!1},ae=p=>({hour:p.hour(),minute:p.minute(),second:p.second(),year:p.year(),month:p.month(),date:p.date()}),We=(p,O,Q)=>{const{hour:n,minute:r,second:b}=ae(p),V=a.parsedValue?a.parsedValue.hour(n).minute(r).second(b):p;d.value=V,K(d.value,!0),Q||(we.value=O)},$e=p=>{const O=j(p,le.value).locale(S.value);if(O.isValid()&&ee(O)){const{year:Q,month:n,date:r}=ae(d.value);d.value=O.year(Q).month(n).date(r),H.value=null,we.value=!1,K(d.value,!0)}},Oe=p=>{const O=j(p,Pe.value).locale(S.value);if(O.isValid()){if(o&&o(O.toDate()))return;const{hour:Q,minute:n,second:r}=ae(d.value);d.value=O.hour(Q).minute(n).second(r),q.value=null,K(d.value,!0)}},ze=p=>j.isDayjs(p)&&p.isValid()&&(o?!o(p.toDate()):!0),Xe=p=>D.value==="dates"?p.map(O=>O.format(a.format)):p.format(a.format),Qe=p=>j(p,a.format).locale(S.value),Ke=()=>{const p=j(x.value).locale(S.value);if(!x.value){const O=N.value;return j().hour(O.hour()).minute(O.minute()).second(O.second()).locale(S.value)}return p},Le=async()=>{var p;["week","month","year","date"].includes(D.value)&&((p=P.value)==null||p.focus(),D.value==="week"&&tt(ye.down))},et=p=>{const{code:O}=p;[ye.up,ye.down,ye.left,ye.right,ye.home,ye.end,ye.pageUp,ye.pageDown].includes(O)&&(tt(O),p.stopPropagation(),p.preventDefault()),[ye.enter,ye.space,ye.numpadEnter].includes(O)&&q.value===null&&H.value===null&&(p.preventDefault(),K(d.value,!1))},tt=p=>{var O;const{up:Q,down:n,left:r,right:b,home:V,end:ke,pageUp:Ze,pageDown:at}=ye,da={year:{[Q]:-4,[n]:4,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setFullYear(ue.getFullYear()+Ae)},month:{[Q]:-4,[n]:4,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setMonth(ue.getMonth()+Ae)},week:{[Q]:-1,[n]:1,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae*7)},date:{[Q]:-7,[n]:7,[r]:-1,[b]:1,[V]:ue=>-ue.getDay(),[ke]:ue=>-ue.getDay()+6,[Ze]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[at]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae)}},rt=d.value.toDate();for(;Math.abs(d.value.diff(rt,"year",!0))<1;){const ue=da[R.value];if(!ue)return;if(ue.offset(rt,it(ue[p])?ue[p](rt):(O=ue[p])!=null?O:0),o&&o(rt))break;const Ae=j(rt).locale(S.value);d.value=Ae,c("pick",Ae,!0);break}},me=p=>{c("panel-change",d.value.toDate(),p,U.value)};return xe(()=>D.value,p=>{if(["month","year"].includes(p)){U.value=p;return}U.value="date"},{immediate:!0}),xe(()=>U.value,()=>{C==null||C.updatePopper()}),xe(()=>x.value,p=>{p&&(d.value=Ke())},{immediate:!0}),xe(()=>a.parsedValue,p=>{if(p){if(D.value==="dates"||Array.isArray(p))return;d.value=p}else d.value=Ke()},{immediate:!0}),c("set-picker-option",["isValidValue",ze]),c("set-picker-option",["formatToString",Xe]),c("set-picker-option",["parseUserInput",Qe]),c("set-picker-option",["handleFocusPicker",Le]),(p,O)=>(T(),L("div",{class:y([e(f).b(),e(v).b(),{"has-sidebar":p.$slots.sidebar||e(s),"has-time":e(X)}])},[B("div",{class:y(e(f).e("body-wrapper"))},[ut(p.$slots,"sidebar",{class:y(e(f).e("sidebar"))}),e(s)?(T(),L("div",{key:0,class:y(e(f).e("sidebar"))},[(T(!0),L(ge,null,_e(e(h),(Q,n)=>(T(),L("button",{key:n,type:"button",class:y(e(f).e("shortcut")),onClick:r=>u(Q)},fe(Q.text),11,Bn))),128))],2)):ve("v-if",!0),B("div",{class:y(e(f).e("body"))},[e(X)?(T(),L("div",{key:0,class:y(e(v).e("time-header"))},[B("span",{class:y(e(v).e("editor-wrap"))},[F(e(qe),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":e(Me),size:"small","validate-event":!1,onInput:O[0]||(O[0]=Q=>q.value=Q),onChange:Oe},null,8,["placeholder","model-value"])],2),Ye((T(),L("span",{class:y(e(v).e("editor-wrap"))},[F(e(qe),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":e(be),size:"small","validate-event":!1,onFocus:Fe,onInput:O[1]||(O[1]=Q=>H.value=Q),onChange:$e},null,8,["placeholder","model-value"]),F(e(Ct),{visible:we.value,format:e(le),"time-arrow-control":e(m),"parsed-value":d.value,onPick:We},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Re]])],2)):ve("v-if",!0),Ye(B("div",{class:y([e(v).e("header"),(U.value==="year"||U.value==="month")&&e(v).e("header--bordered")])},[B("span",{class:y(e(v).e("prev-btn"))},[B("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:y(["d-arrow-left",e(f).e("icon-btn")]),onClick:O[2]||(O[2]=Q=>pe(!1))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,Wn),Ye(B("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:y([e(f).e("icon-btn"),"arrow-left"]),onClick:O[3]||(O[3]=Q=>ce(!1))},[F(e(he),null,{default:se(()=>[F(e(St))]),_:1})],10,zn),[[nt,U.value==="date"]])],2),B("span",{role:"button",class:y(e(v).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:O[4]||(O[4]=st(Q=>J("year"),["enter"])),onClick:O[5]||(O[5]=Q=>J("year"))},fe(e(Y)),35),Ye(B("span",{role:"button","aria-live":"polite",tabindex:"0",class:y([e(v).e("header-label"),{active:U.value==="month"}]),onKeydown:O[6]||(O[6]=st(Q=>J("month"),["enter"])),onClick:O[7]||(O[7]=Q=>J("month"))},fe(e(M)(`el.datepicker.month${e(z)+1}`)),35),[[nt,U.value==="date"]]),B("span",{class:y(e(v).e("next-btn"))},[Ye(B("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:y([e(f).e("icon-btn"),"arrow-right"]),onClick:O[8]||(O[8]=Q=>ce(!0))},[F(e(he),null,{default:se(()=>[F(e(mt))]),_:1})],10,Kn),[[nt,U.value==="date"]]),B("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:y([e(f).e("icon-btn"),"d-arrow-right"]),onClick:O[9]||(O[9]=Q=>pe(!0))},[F(e(he),null,{default:se(()=>[F(e(dt))]),_:1})],10,Un)],2)],2),[[nt,U.value!=="time"]]),B("div",{class:y(e(f).e("content")),onKeydown:et},[U.value==="date"?(T(),De(Pt,{key:0,ref_key:"currentViewRef",ref:P,"selection-mode":e(D),date:d.value,"parsed-value":p.parsedValue,"disabled-date":e(o),"cell-class-name":e(w),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),U.value==="year"?(T(),De(Ln,{key:1,ref_key:"currentViewRef",ref:P,date:d.value,"disabled-date":e(o),"parsed-value":p.parsedValue,onPick:W},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),U.value==="month"?(T(),De(_t,{key:2,ref_key:"currentViewRef",ref:P,date:d.value,"parsed-value":p.parsedValue,"disabled-date":e(o),onPick:_},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Ye(B("div",{class:y(e(f).e("footer"))},[Ye(F(e(bt),{text:"",size:"small",class:y(e(f).e("link-btn")),onClick:re},{default:se(()=>[Ue(fe(e(M)("el.datepicker.now")),1)]),_:1},8,["class"]),[[nt,e(D)!=="dates"]]),F(e(bt),{plain:"",size:"small",class:y(e(f).e("link-btn")),onClick:ne},{default:se(()=>[Ue(fe(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[nt,e(de)&&U.value==="date"]])],2))}});var jn=Be(Hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Gn=Ce({...oa,...ra}),Zn=i=>{const{emit:c}=Ut(),a=zt(),t=Kt();return v=>{const k=it(v.value)?v.value():v.value;if(k){c("pick",[j(k[0]).locale(i.value),j(k[1]).locale(i.value)]);return}v.onClick&&v.onClick({attrs:a,slots:t,emit:c})}},ca=(i,{defaultValue:c,leftDate:a,rightDate:t,unit:f,onParsedValueChanged:v})=>{const{emit:k}=Ut(),{pickerNs:g}=He($t),M=Te("date-range-picker"),{t:S,lang:A}=Ne(),C=Zn(A),h=Z(),o=Z(),w=Z({endDate:null,selecting:!1}),l=d=>{w.value=d},m=(d=!1)=>{const $=e(h),N=e(o);Mt([$,N])&&k("pick",[$,N],d)},x=d=>{w.value.selecting=d,d||(w.value.endDate=null)},P=()=>{const[d,$]=ia(e(c),{lang:e(A),unit:f,unlinkPanels:i.unlinkPanels});h.value=void 0,o.value=void 0,a.value=d,t.value=$};return xe(c,d=>{d&&P()},{immediate:!0}),xe(()=>i.parsedValue,d=>{if(Se(d)&&d.length===2){const[$,N]=d;h.value=$,a.value=$,o.value=N,v(e(h),e(o))}else P()},{immediate:!0}),{minDate:h,maxDate:o,rangeState:w,lang:A,ppNs:g,drpNs:M,handleChangeRange:l,handleRangeConfirm:m,handleShortcutClick:C,onSelect:x,t:S}},qn=["onClick"],Jn=["disabled"],Xn=["disabled"],Qn=["disabled"],el=["disabled"],pt="month",tl=Ve({__name:"panel-date-range",props:Gn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(i,{emit:c}){const a=i,t=He("EP_PICKER_BASE"),{disabledDate:f,cellClassName:v,format:k,defaultTime:g,arrowControl:M,clearable:S}=t.props,A=ot(t.props,"shortcuts"),C=ot(t.props,"defaultValue"),{lang:h}=Ne(),o=Z(j().locale(h.value)),w=Z(j().locale(h.value).add(1,pt)),{minDate:l,maxDate:m,rangeState:x,ppNs:P,drpNs:d,handleChangeRange:$,handleRangeConfirm:N,handleShortcutClick:z,onSelect:G,t:I}=ca(a,{defaultValue:C,leftDate:o,rightDate:w,unit:pt,onParsedValueChanged:n}),q=Z({min:null,max:null}),H=Z({min:null,max:null}),ee=E(()=>`${o.value.year()} ${I("el.datepicker.year")} ${I(`el.datepicker.month${o.value.month()+1}`)}`),oe=E(()=>`${w.value.year()} ${I("el.datepicker.year")} ${I(`el.datepicker.month${w.value.month()+1}`)}`),K=E(()=>o.value.year()),te=E(()=>o.value.month()),ce=E(()=>w.value.year()),pe=E(()=>w.value.month()),U=E(()=>!!A.value.length),Y=E(()=>q.value.min!==null?q.value.min:l.value?l.value.format(_.value):""),u=E(()=>q.value.max!==null?q.value.max:m.value||l.value?(m.value||l.value).format(_.value):""),D=E(()=>H.value.min!==null?H.value.min:l.value?l.value.format(s.value):""),R=E(()=>H.value.max!==null?H.value.max:m.value||l.value?(m.value||l.value).format(s.value):""),s=E(()=>Zt(k)),_=E(()=>Gt(k)),W=()=>{o.value=o.value.subtract(1,"year"),a.unlinkPanels||(w.value=o.value.add(1,"month")),be("year")},J=()=>{o.value=o.value.subtract(1,"month"),a.unlinkPanels||(w.value=o.value.add(1,"month")),be("month")},X=()=>{a.unlinkPanels?w.value=w.value.add(1,"year"):(o.value=o.value.add(1,"year"),w.value=o.value.add(1,"month")),be("year")},de=()=>{a.unlinkPanels?w.value=w.value.add(1,"month"):(o.value=o.value.add(1,"month"),w.value=o.value.add(1,"month")),be("month")},ne=()=>{o.value=o.value.add(1,"year"),be("year")},re=()=>{o.value=o.value.add(1,"month"),be("month")},le=()=>{w.value=w.value.subtract(1,"year"),be("year")},Pe=()=>{w.value=w.value.subtract(1,"month"),be("month")},be=r=>{c("panel-change",[o.value.toDate(),w.value.toDate()],r)},Me=E(()=>{const r=(te.value+1)%12,b=te.value+1>=12?1:0;return a.unlinkPanels&&new Date(K.value+b,r)<new Date(ce.value,pe.value)}),we=E(()=>a.unlinkPanels&&ce.value*12+pe.value-(K.value*12+te.value+1)>=12),Fe=E(()=>!(l.value&&m.value&&!x.value.selecting&&Mt([l.value,m.value]))),Re=E(()=>a.type==="datetime"||a.type==="datetimerange"),ae=(r,b)=>{if(r)return g?j(g[b]||g).locale(h.value).year(r.year()).month(r.month()).date(r.date()):r},We=(r,b=!0)=>{const V=r.minDate,ke=r.maxDate,Ze=ae(V,0),at=ae(ke,1);m.value===at&&l.value===Ze||(c("calendar-change",[V.toDate(),ke&&ke.toDate()]),m.value=at,l.value=Ze,!(!b||Re.value)&&N())},$e=Z(!1),Oe=Z(!1),ze=()=>{$e.value=!1},Xe=()=>{Oe.value=!1},Qe=(r,b)=>{q.value[b]=r;const V=j(r,_.value).locale(h.value);if(V.isValid()){if(f&&f(V.toDate()))return;b==="min"?(o.value=V,l.value=(l.value||o.value).year(V.year()).month(V.month()).date(V.date()),a.unlinkPanels||(w.value=V.add(1,"month"),m.value=l.value.add(1,"month"))):(w.value=V,m.value=(m.value||w.value).year(V.year()).month(V.month()).date(V.date()),a.unlinkPanels||(o.value=V.subtract(1,"month"),l.value=m.value.subtract(1,"month")))}},Ke=(r,b)=>{q.value[b]=null},Le=(r,b)=>{H.value[b]=r;const V=j(r,s.value).locale(h.value);V.isValid()&&(b==="min"?($e.value=!0,l.value=(l.value||o.value).hour(V.hour()).minute(V.minute()).second(V.second()),(!m.value||m.value.isBefore(l.value))&&(m.value=l.value)):(Oe.value=!0,m.value=(m.value||w.value).hour(V.hour()).minute(V.minute()).second(V.second()),w.value=m.value,m.value&&m.value.isBefore(l.value)&&(l.value=m.value)))},et=(r,b)=>{H.value[b]=null,b==="min"?(o.value=l.value,$e.value=!1):(w.value=m.value,Oe.value=!1)},tt=(r,b,V)=>{H.value.min||(r&&(o.value=r,l.value=(l.value||o.value).hour(r.hour()).minute(r.minute()).second(r.second())),V||($e.value=b),(!m.value||m.value.isBefore(l.value))&&(m.value=l.value,w.value=r))},me=(r,b,V)=>{H.value.max||(r&&(w.value=r,m.value=(m.value||w.value).hour(r.hour()).minute(r.minute()).second(r.second())),V||(Oe.value=b),m.value&&m.value.isBefore(l.value)&&(l.value=m.value))},p=()=>{o.value=ia(e(C),{lang:e(h),unit:"month",unlinkPanels:a.unlinkPanels})[0],w.value=o.value.add(1,"month"),c("pick",null)},O=r=>Se(r)?r.map(b=>b.format(k)):r.format(k),Q=r=>Se(r)?r.map(b=>j(b,k).locale(h.value)):j(r,k).locale(h.value);function n(r,b){if(a.unlinkPanels&&b){const V=(r==null?void 0:r.year())||0,ke=(r==null?void 0:r.month())||0,Ze=b.year(),at=b.month();w.value=V===Ze&&ke===at?b.add(1,pt):b}else w.value=o.value.add(1,pt),b&&(w.value=w.value.hour(b.hour()).minute(b.minute()).second(b.second()))}return c("set-picker-option",["isValidValue",Mt]),c("set-picker-option",["parseUserInput",Q]),c("set-picker-option",["formatToString",O]),c("set-picker-option",["handleClear",p]),(r,b)=>(T(),L("div",{class:y([e(P).b(),e(d).b(),{"has-sidebar":r.$slots.sidebar||e(U),"has-time":e(Re)}])},[B("div",{class:y(e(P).e("body-wrapper"))},[ut(r.$slots,"sidebar",{class:y(e(P).e("sidebar"))}),e(U)?(T(),L("div",{key:0,class:y(e(P).e("sidebar"))},[(T(!0),L(ge,null,_e(e(A),(V,ke)=>(T(),L("button",{key:ke,type:"button",class:y(e(P).e("shortcut")),onClick:Ze=>e(z)(V)},fe(V.text),11,qn))),128))],2)):ve("v-if",!0),B("div",{class:y(e(P).e("body"))},[e(Re)?(T(),L("div",{key:0,class:y(e(d).e("time-header"))},[B("span",{class:y(e(d).e("editors-wrap"))},[B("span",{class:y(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",disabled:e(x).selecting,placeholder:e(I)("el.datepicker.startDate"),class:y(e(d).e("editor")),"model-value":e(Y),"validate-event":!1,onInput:b[0]||(b[0]=V=>Qe(V,"min")),onChange:b[1]||(b[1]=V=>Ke(V,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ye((T(),L("span",{class:y(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:y(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.startTime"),"model-value":e(D),"validate-event":!1,onFocus:b[2]||(b[2]=V=>$e.value=!0),onInput:b[3]||(b[3]=V=>Le(V,"min")),onChange:b[4]||(b[4]=V=>et(V,"min"))},null,8,["class","disabled","placeholder","model-value"]),F(e(Ct),{visible:$e.value,format:e(s),"datetime-role":"start","time-arrow-control":e(M),"parsed-value":o.value,onPick:tt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),ze]])],2),B("span",null,[F(e(he),null,{default:se(()=>[F(e(mt))]),_:1})]),B("span",{class:y([e(d).e("editors-wrap"),"is-right"])},[B("span",{class:y(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:y(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.endDate"),"model-value":e(u),readonly:!e(l),"validate-event":!1,onInput:b[5]||(b[5]=V=>Qe(V,"max")),onChange:b[6]||(b[6]=V=>Ke(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ye((T(),L("span",{class:y(e(d).e("time-picker-wrap"))},[F(e(qe),{size:"small",class:y(e(d).e("editor")),disabled:e(x).selecting,placeholder:e(I)("el.datepicker.endTime"),"model-value":e(R),readonly:!e(l),"validate-event":!1,onFocus:b[7]||(b[7]=V=>e(l)&&(Oe.value=!0)),onInput:b[8]||(b[8]=V=>Le(V,"max")),onChange:b[9]||(b[9]=V=>et(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),F(e(Ct),{"datetime-role":"end",visible:Oe.value,format:e(s),"time-arrow-control":e(M),"parsed-value":w.value,onPick:me},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Xe]])],2)],2)):ve("v-if",!0),B("div",{class:y([[e(P).e("content"),e(d).e("content")],"is-left"])},[B("div",{class:y(e(d).e("header"))},[B("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-left"]),onClick:W},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),B("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-left"]),onClick:J},[F(e(he),null,{default:se(()=>[F(e(St))]),_:1})],2),r.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-right"]),onClick:ne},[F(e(he),null,{default:se(()=>[F(e(dt))]),_:1})],10,Jn)):ve("v-if",!0),r.unlinkPanels?(T(),L("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:re},[F(e(he),null,{default:se(()=>[F(e(mt))]),_:1})],10,Xn)):ve("v-if",!0),B("div",null,fe(e(ee)),1)],2),F(Pt,{"selection-mode":"range",date:o.value,"min-date":e(l),"max-date":e(m),"range-state":e(x),"disabled-date":e(f),"cell-class-name":e(v),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),B("div",{class:y([[e(P).e("content"),e(d).e("content")],"is-right"])},[B("div",{class:y(e(d).e("header"))},[r.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-left"]),onClick:le},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,Qn)):ve("v-if",!0),r.unlinkPanels?(T(),L("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Pe},[F(e(he),null,{default:se(()=>[F(e(St))]),_:1})],10,el)):ve("v-if",!0),B("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-right"]),onClick:X},[F(e(he),null,{default:se(()=>[F(e(dt))]),_:1})],2),B("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-right"]),onClick:de},[F(e(he),null,{default:se(()=>[F(e(mt))]),_:1})],2),B("div",null,fe(e(oe)),1)],2),F(Pt,{"selection-mode":"range",date:w.value,"min-date":e(l),"max-date":e(m),"range-state":e(x),"disabled-date":e(f),"cell-class-name":e(v),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Re)?(T(),L("div",{key:0,class:y(e(P).e("footer"))},[e(S)?(T(),De(e(bt),{key:0,text:"",size:"small",class:y(e(P).e("link-btn")),onClick:p},{default:se(()=>[Ue(fe(e(I)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),F(e(bt),{plain:"",size:"small",class:y(e(P).e("link-btn")),disabled:e(Fe),onClick:b[10]||(b[10]=V=>e(N)(!1))},{default:se(()=>[Ue(fe(e(I)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var al=Be(tl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const nl=Ce({...ra}),ll=["pick","set-picker-option"],sl=({unlinkPanels:i,leftDate:c,rightDate:a})=>{const{t}=Ne(),f=()=>{c.value=c.value.subtract(1,"year"),i.value||(a.value=a.value.subtract(1,"year"))},v=()=>{i.value||(c.value=c.value.add(1,"year")),a.value=a.value.add(1,"year")},k=()=>{c.value=c.value.add(1,"year")},g=()=>{a.value=a.value.subtract(1,"year")},M=E(()=>`${c.value.year()} ${t("el.datepicker.year")}`),S=E(()=>`${a.value.year()} ${t("el.datepicker.year")}`),A=E(()=>c.value.year()),C=E(()=>a.value.year()===c.value.year()?c.value.year()+1:a.value.year());return{leftPrevYear:f,rightNextYear:v,leftNextYear:k,rightPrevYear:g,leftLabel:M,rightLabel:S,leftYear:A,rightYear:C}},ol=["onClick"],rl=["disabled"],ul=["disabled"],vt="year",il=Ve({name:"DatePickerMonthRange"}),cl=Ve({...il,props:nl,emits:ll,setup(i,{emit:c}){const a=i,{lang:t}=Ne(),f=He("EP_PICKER_BASE"),{shortcuts:v,disabledDate:k,format:g}=f.props,M=ot(f.props,"defaultValue"),S=Z(j().locale(t.value)),A=Z(j().locale(t.value).add(1,vt)),{minDate:C,maxDate:h,rangeState:o,ppNs:w,drpNs:l,handleChangeRange:m,handleRangeConfirm:x,handleShortcutClick:P,onSelect:d}=ca(a,{defaultValue:M,leftDate:S,rightDate:A,unit:vt,onParsedValueChanged:pe}),$=E(()=>!!v.length),{leftPrevYear:N,rightNextYear:z,leftNextYear:G,rightPrevYear:I,leftLabel:q,rightLabel:H,leftYear:ee,rightYear:oe}=sl({unlinkPanels:ot(a,"unlinkPanels"),leftDate:S,rightDate:A}),K=E(()=>a.unlinkPanels&&oe.value>ee.value+1),te=(U,Y=!0)=>{const u=U.minDate,D=U.maxDate;h.value===D&&C.value===u||(h.value=D,C.value=u,Y&&x())},ce=U=>U.map(Y=>Y.format(g));function pe(U,Y){if(a.unlinkPanels&&Y){const u=(U==null?void 0:U.year())||0,D=Y.year();A.value=u===D?Y.add(1,vt):Y}else A.value=S.value.add(1,vt)}return c("set-picker-option",["formatToString",ce]),(U,Y)=>(T(),L("div",{class:y([e(w).b(),e(l).b(),{"has-sidebar":!!U.$slots.sidebar||e($)}])},[B("div",{class:y(e(w).e("body-wrapper"))},[ut(U.$slots,"sidebar",{class:y(e(w).e("sidebar"))}),e($)?(T(),L("div",{key:0,class:y(e(w).e("sidebar"))},[(T(!0),L(ge,null,_e(e(v),(u,D)=>(T(),L("button",{key:D,type:"button",class:y(e(w).e("shortcut")),onClick:R=>e(P)(u)},fe(u.text),11,ol))),128))],2)):ve("v-if",!0),B("div",{class:y(e(w).e("body"))},[B("div",{class:y([[e(w).e("content"),e(l).e("content")],"is-left"])},[B("div",{class:y(e(l).e("header"))},[B("button",{type:"button",class:y([e(w).e("icon-btn"),"d-arrow-left"]),onClick:Y[0]||(Y[0]=(...u)=>e(N)&&e(N)(...u))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),U.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(K),class:y([[e(w).e("icon-btn"),{[e(w).is("disabled")]:!e(K)}],"d-arrow-right"]),onClick:Y[1]||(Y[1]=(...u)=>e(G)&&e(G)(...u))},[F(e(he),null,{default:se(()=>[F(e(dt))]),_:1})],10,rl)):ve("v-if",!0),B("div",null,fe(e(q)),1)],2),F(_t,{"selection-mode":"range",date:S.value,"min-date":e(C),"max-date":e(h),"range-state":e(o),"disabled-date":e(k),onChangerange:e(m),onPick:te,onSelect:e(d)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),B("div",{class:y([[e(w).e("content"),e(l).e("content")],"is-right"])},[B("div",{class:y(e(l).e("header"))},[U.unlinkPanels?(T(),L("button",{key:0,type:"button",disabled:!e(K),class:y([[e(w).e("icon-btn"),{"is-disabled":!e(K)}],"d-arrow-left"]),onClick:Y[2]||(Y[2]=(...u)=>e(I)&&e(I)(...u))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,ul)):ve("v-if",!0),B("button",{type:"button",class:y([e(w).e("icon-btn"),"d-arrow-right"]),onClick:Y[3]||(Y[3]=(...u)=>e(z)&&e(z)(...u))},[F(e(he),null,{default:se(()=>[F(e(dt))]),_:1})],2),B("div",null,fe(e(H)),1)],2),F(_t,{"selection-mode":"range",date:A.value,"min-date":e(C),"max-date":e(h),"range-state":e(o),"disabled-date":e(k),onChangerange:e(m),onPick:te,onSelect:e(d)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var dl=Be(cl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const fl=function(i){switch(i){case"daterange":case"datetimerange":return al;case"monthrange":return dl;default:return jn}};j.extend(en);j.extend(an);j.extend(Ia);j.extend(ln);j.extend(on);j.extend(un);j.extend(dn);j.extend(pn);var pl=Ve({name:"ElDatePicker",install:null,props:vn,emits:["update:modelValue"],setup(i,{expose:c,emit:a,slots:t}){const f=Te("picker-panel");wt("ElPopperOptions",Va(ot(i,"popperOptions"))),wt($t,{slots:t,pickerNs:f});const v=Z();c({focus:(M=!0)=>{var S;(S=v.value)==null||S.focus(M)},handleOpen:()=>{var M;(M=v.value)==null||M.handleOpen()},handleClose:()=>{var M;(M=v.value)==null||M.handleClose()}});const g=M=>{a("update:modelValue",M)};return()=>{var M;const S=(M=i.format)!=null?M:Ya[i.type]||lt,A=fl(i.type);return F(La,Bt(i,{format:S,type:i.type,ref:v,"onUpdate:modelValue":g}),{default:C=>F(A,C,null),"range-separator":t["range-separator"]})}}});const ht=pl;ht.install=i=>{i.component(ht.name,ht)};const hl=ht;export{hl as E,Ft as v};
