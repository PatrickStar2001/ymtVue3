import{aj as p,_ as w,d as c,o as C,c as E,a as s,b as l,w as t,F as T,E as m,e as k,f as F,g as _,h as u,i as y,j as v,k as L,l as U}from"./index-cc83c9fb.js";import{E as W}from"./el-pagination-4a604fda.js";import{c as $}from"./cloneDeep-d03ca120.js";const z=e=>p.request({url:"/api/admin-group/edit",method:"post",data:e}),B=e=>p.request({url:"/api/admin-group/add",method:"post",data:e}),A=c({data(){return{admingroups:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,admingroup:{createTime:"",id:0,name:"",pid:0,rules:"",status:"",updateTime:""},formLabelWidth:80}},methods:{toEdit(e){console.log(e),this.dialogFormVisible=!0,this.admingroup=$(e)},del(e){console.log(e)},toAdd(){this.dialogFormVisible=!0,this.admingroup={createTime:"",id:0,name:"",pid:0,rules:"",status:"",updateTime:""}},save(){const e=this.admingroup;e.id==0?B(e).then(a=>{if(a.success)this.dialogFormVisible=!1,m(a.msg);else return m(a.msg),!1}).catch(a=>{m("网络错误联系管理员")}):z(e).then(a=>{if(a.success)this.dialogFormVisible=!1,m(a.msg);else return m(a.msg),!1}).catch(a=>{m("网络错误联系管理员")})}}}),N={class:"admin-group"},j={class:"admin-tools"},q={class:"dialog-footer"};function D(e,a,I,M,P,G){const r=k,i=y,f=F,g=W,d=v,n=L,b=U,V=_;return C(),E(T,null,[s("div",N,[s("div",j,[l(r,{type:"warning",onClick:e.toAdd},{default:t(()=>[u("添加")]),_:1},8,["onClick"])]),l(f,{data:e.admingroups,style:{width:"100%"}},{default:t(()=>[l(i,{fixed:"",prop:"idn",label:"#"}),l(i,{prop:"id",label:"id"}),l(i,{prop:"name",label:"name"}),l(i,{prop:"pid",label:"pid"}),l(i,{prop:"rules",label:"rules"}),l(i,{prop:"createTime",label:"create_time"}),l(i,{prop:"updateTime",label:"update_time"}),l(i,{fixed:"right",label:"操作",width:"120"},{default:t(o=>[l(r,{link:"",type:"primary",size:"small",onClick:h=>e.toEdit(o.row)},{default:t(()=>[u("更新")]),_:2},1032,["onClick"]),l(r,{link:"",type:"primary",size:"small",onClick:h=>e.del(o.row.id)},{default:t(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(g,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),l(V,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[7]||(a[7]=o=>e.dialogFormVisible=o),title:"管理组编辑"},{footer:t(()=>[s("span",q,[l(r,{onClick:a[6]||(a[6]=o=>e.dialogFormVisible=!1)},{default:t(()=>[u("Cancel")]),_:1}),l(r,{type:"primary",onClick:e.save},{default:t(()=>[u(" 保存 ")]),_:1},8,["onClick"])])]),default:t(()=>[l(b,{model:e.admingroup},{default:t(()=>[l(n,{label:"id","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.id,"onUpdate:modelValue":a[0]||(a[0]=o=>e.admingroup.id=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"name","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.admingroup.name=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"pid","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.pid,"onUpdate:modelValue":a[2]||(a[2]=o=>e.admingroup.pid=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"rules","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.rules,"onUpdate:modelValue":a[3]||(a[3]=o=>e.admingroup.rules=o),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"createTime","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.createTime,"onUpdate:modelValue":a[4]||(a[4]=o=>e.admingroup.createTime=o),type:"date",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(n,{label:"updateTime","label-width":e.formLabelWidth},{default:t(()=>[l(d,{modelValue:e.admingroup.updateTime,"onUpdate:modelValue":a[5]||(a[5]=o=>e.admingroup.updateTime=o),type:"date",autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const O=w(A,[["render",D]]);export{O as default};
