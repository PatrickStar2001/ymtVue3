import{aj as n,_ as b,d as y,o as V,c as I,b as t,w as a,a as h,E as r,e as B,g as T,f as E,h as m,j as _,k,l as U,i as q}from"./index-cc83c9fb.js";/* empty css                   */import{E as C}from"./index-7b55315a.js";const F=e=>n.request({url:"api/interview/add",method:"post",data:e}),W=e=>n.request({url:"api/interview/delete",method:"get",params:e}),D=e=>n.request({url:"api/interview/edit",method:"post",data:e}),$=e=>n.request({url:"api/interview/one",method:"get",params:e}),P=()=>n.request({url:"api/interview/all",method:"get"}),z=e=>n.request({url:"api/interview/getInterviewWithTypeByPage",method:"post",data:e}),N=e=>n.request({url:"api/interview/getInterviewWithTypeByPageAndUser",method:"post",data:e}),A=e=>n.request({url:"api/interview/getInterviewWithTypeNameVOById",method:"get",data:e}),L=e=>n.request({url:"api/interview/getInterviewsPageByUserId",method:"post",data:e}),j=e=>n.request({url:"api/interview/colums",method:"get",data:e}),M=e=>n.request({url:"api/interview/getInterviewByUserId",method:"get",data:e}),p={add:F,remove:W,update:D,select:$,entire:P,getInterviewsPageByUserId:L,getInterviewWithTypeNameVOById:A,getInterviewWithTypeByPageAndUser:N,getInterviewWithTypeByPage:z,colums:j,getInterviewByUserId:M},O=y({data(){return{list:[],interview:{},dialogFormVisible:!1,current:1,size:10,total:0}},mounted(){this.fetchData()},methods:{fetchData(){p.entire().then(e=>{console.log(e),this.list=e.data.interviews})},changeSize(e){this.size=e,this.fetchData(1)},handleDelete(e){const i={id:e};C.confirm("您是否需要删除该面试题吗?","提示",{confirmButtonText:"ok",cancelButtonText:"no",type:"warning"}).then(()=>{p.remove(i).then(w=>{w.success?(r({type:"success",message:"删除成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"})})}).catch(()=>{r({type:"warning",message:"取消删除"})})},handleEdit(e){this.dialogFormVisible=!0;const i={id:e};p.select(i).then(w=>{this.interview=w.data.interview})},toAdd(){this.interview={},this.dialogFormVisible=!0},confirm(){this.interview.id==null?p.add(this.interview).then(e=>{e.success?(r({type:"success",message:"添加成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"}),this.dialogFormVisible=!1}):(p.update(this.interview).then(e=>{e.success?(r({type:"success",message:"编辑成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"})}),this.dialogFormVisible=!1)}}}),S={class:"root"},G={class:"dialog-footer"},H={class:"table"};function J(e,i,w,K,Q,R){const s=B,d=_,u=k,f=U,g=T,o=q,v=E;return V(),I("div",S,[t(s,{type:"success",plain:"",onClick:e.toAdd},{default:a(()=>[m("新增")]),_:1},8,["onClick"]),t(g,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":i[7]||(i[7]=l=>e.dialogFormVisible=l),title:"表单"},{footer:a(()=>[h("span",G,[t(s,{onClick:i[5]||(i[5]=l=>e.dialogFormVisible=!1)},{default:a(()=>[m("取消")]),_:1}),t(s,{type:"primary",onClick:i[6]||(i[6]=l=>e.confirm())},{default:a(()=>[m(" 确定 ")]),_:1})])]),default:a(()=>[t(f,{model:e.interview},{default:a(()=>[t(u,{label:"面试题型","label-width":e.formLabelWidth},{default:a(()=>[t(d,{modelValue:e.interview.interviewType,"onUpdate:modelValue":i[0]||(i[0]=l=>e.interview.interviewType=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"面试题","label-width":e.formLabelWidth},{default:a(()=>[t(d,{modelValue:e.interview.title,"onUpdate:modelValue":i[1]||(i[1]=l=>e.interview.title=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"用户id","label-width":e.formLabelWidth},{default:a(()=>[t(d,{modelValue:e.interview.userinfoId,"onUpdate:modelValue":i[2]||(i[2]=l=>e.interview.userinfoId=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"查看次数","label-width":e.formLabelWidth},{default:a(()=>[t(d,{modelValue:e.interview.view,"onUpdate:modelValue":i[3]||(i[3]=l=>e.interview.view=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"面试题型解析"},{default:a(()=>[t(d,{modelValue:e.interview.analysis,"onUpdate:modelValue":i[4]||(i[4]=l=>e.interview.analysis=l),type:"textarea",rows:5},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),h("div",H,[t(v,{data:e.list,style:{width:"100%"}},{default:a(()=>[t(o,{fixed:"",prop:"id",label:"id",width:"80",align:"center"}),t(o,{prop:"title",label:"面试题",width:"150",align:"center"}),t(o,{prop:"analysis",label:"面试题型解析",width:"700",align:"center"}),t(o,{prop:"interviewType",label:"面试题型",width:"100",align:"center"}),t(o,{prop:"createTime",label:"创建时间",width:"250",align:"center"}),t(o,{prop:"updateTime",label:"更新时间",width:"250",align:"center"}),t(o,{prop:"userinfoId",label:"用户id",width:"100",align:"center"}),t(o,{prop:"view",label:"查看次数",width:"80",align:"center"}),t(o,{fixed:"right",label:"权限",width:"150",align:"center"},{default:a(l=>[t(s,{type:"info",plain:"",size:"small",onClick:c=>e.handleEdit(l.row.id)},{default:a(()=>[m("编辑")]),_:2},1032,["onClick"]),t(s,{type:"danger",plain:"",size:"small",onClick:c=>e.handleDelete(l.row.id)},{default:a(()=>[m("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const x=b(O,[["render",J]]);export{x as default};
